# Statistical Inference: EDA Tax

For our analysis of the relationship between income levels and growth in the housing market, we will study two datasets using statistical inference. The first dataset, containing tax return information, will require some pre-processing before we can begin the analysis. The second dataset, containing housing value growth data, will be used to assess the observed growth in a set of regions.

First, we study the distributions of changes in the proportions of each income bracket from 2007 to 2014. There is a distribution for each bracket—i.e. five for the dataset.  We are interested in regions which have significantly negative changes in the lower brackets and significantly positive changes in the higher brackets (that is, the proportion of earners has shifted from 2007 to 2014 towards the higher levels beyond what is ‘statistically typical’). We measure significance as a number of standard deviations from the mean. 

Once we have created distributions for the different changes observed in each bracket across all zip codes, we apply a clustering algorithm to divide the zip codes into categorical “growth patterns.” That is, we treat each bracket as a feature and look for the major patterns of change observed throughout the dataset. For example, a zip code with slight decreases in the lower brackets and slight increases in the higher brackets resembles how income levels in California as a whole are changing—a general stable increase. On the other hand, a drastic decrease in the lowest brackets together with a drastic increase in the highest brackets is atypical and likely a signal that some other underlying cause specific to the region is creating this sort of pattern. What we are really interested in, however, is how these growth patterns in income relate to growth in housing value. 
	
Thus, we next take the regions within a cluster and develop distributions using the dataset containing housing value growth data. In this way, we develop for each “income growth cluster” a corresponding “housing value growth cluster.” If there is a relationship between the two, we expect to see some statistically significant result. In particular, we will study the relationship between income clusters with statistically significant changes relative to the averages in California and their corresponding growth clusters. If these regions have housing value growth that is above average what is observed in California as an average, this will be sound evidence that there is a relationship between changes in income levels in a region and changes in housing value.
	
Furthermore, for each cluster we will measure growth over three timelines and create three separate distributions to test the correlations on a year-to-year basis as well as a tool for forecasting. In particular, we test the growth from December 2007 to December 2014, December 2014 to December 2015, and December 2014 to May 2017. The first timeline represents the timeline of the tax dataset (i.e. “year-to-year” correlation), the second timeline represents a 1 year forecast correlation, and the last timeline approximately represents a 2.5 year forecast. 

What is observed is that regions with significant growth patterns favoring the higher brackets have a strong correlation on a year-to-year basis, but the correlation becomes less reliable as we attempt to forecast further into the future. The relationship seems reliable for a 1 year forecast, but would not be recommended beyond that. We are limited by the available data (the tax datasets only go up to 2014), but the study shows that given sufficient information about income levels, we can make sound predictions about housing value growth for the short term future. 

As a concrete example, we run a statistical test on the annual returns of portfolio 9 over the time period Dec. 2007 - Dec. 2014. First, we calculate the average annual return on portfolio 2: -26.85%. We assume as the null hypothesis that the average annual growth is also -26.85%, and propose as the alternative hypothesis that portfolio 9 has an average annual growth greater than -26.85%. Using the ZHVI medians data set (the same one used to calculate portfolio 2's average), we compute an average annual return in portfolio 9 of 24.185 using 52 data points. By standardizing and normalizing this output, we see that this represents an approximately 21 standard deviation event from the mean--corresponding to a p-value of .0001. This is an extremely statistically unlikely event under the null hypothesis, and so we conclude with great confidence that portfolio 9 has an average annual return greater than -26.85% (i.e. greater than the average return of portfolio 2.)
